/**
 * LaravelPCMS 1.6.0
 * 内容管理系统-支撑微信,微信小程序
 * http://www.es12.com
 * Author rubbish.boy@163.com
 */
function isEmail(e){if(e.length>100)return!1;if(e.indexOf("'")!=-1||e.indexOf("/")!=-1||e.indexOf("\\")!=-1||e.indexOf("<")!=-1||e.indexOf(">")!=-1)return!1;e=e.replace("(",""),e=e.replace(")",""),e=e.replace("（",""),e=e.replace("）","");var a="^(([0-9a-zA-Z]+)|([0-9a-zA-Z]+[_.0-9a-zA-Z-]*[_.0-9a-zA-Z]+))@([a-zA-Z0-9-]+[.])+(.+)$",n=new RegExp(a);return e.search(n)!=-1}function validatemobile(e){var a=/^(((13[0-9]{1})|(15[0-9]{1})|(17[6-8]{1})|(18[0-9]{1}))+\d{8})$/;return 0!=e.length&&11==e.length&&!!a.test(e)}function onBlur_check(e,a){var n,a=a?a:1,o=document.getElementById(e),r=o.value,t=1;switch(e){case"username":""==r&&(t=0),r.length<4?(layer.alert("用户名长度至少4位",{icon:7,skin:"layer-ext-moon"}),t=0):t=1;break;case"email":""==r?t=0:0==isEmail(r)?(layer.alert("请输入有效的邮箱",{icon:7,skin:"layer-ext-moon"}),o.value="",t=0):t=1;break;case"mobile":""==r?t=0:0==validatemobile(r)?(layer.alert("请输入有效的手机号",{icon:7,skin:"layer-ext-moon"}),t=0):t=1;break;default:t=0}1==t&&$(function(){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/user/register/exit_api",data:{fieldval:r,fieldname:e,type:a},dataType:"json",beforeSend:function(){n=layer.load("检测中...")},success:function(e){if(layer.close(n),1==e.success){if(0==e.data){if(2==a){var r=e.info;o.value="",layermsg_error(r)}}else if(1==a){var r=e.info;o.value="",layermsg_error(r)}}else{var r="响应请求失败！";layermsg_error(r)}},error:function(){layer.close(n);var e="响应请求失败！";layermsg_error(e)}})})}function localcul(e){location.href=e}function main_localcul(e){main.location.href=e}function goback(){history.go(-1)}function make_confirm(e,a){layer.confirm("您确定要【"+e+"】?",{btn:["确定","取消"],shade:!1},function(){setTimeout("window.location.href='"+a+"'",500)},function(){layer.msg("取消"+e,{shift:6})})}function layermsg_s(e,a){layer.msg(e,{icon:6,shade:[.8,"#393D49"],time:1e3},function(){location.href=a})}function layermsg_success_reload(e){layer.msg(e,{icon:6,shade:[.8,"#393D49"],time:1e3},function(){location.reload()})}function layermsg_e(e){layer.msg(e,{icon:5,shade:[.8,"#393D49"],time:1e3},function(){location.reload()})}function layermsg_success(e){layer.msg(e,{icon:6,shade:[.8,"#393D49"],time:1e3})}function layermsg_error(e){layer.msg(e,{icon:5,shade:[.8,"#393D49"],time:1e3})}function iFrameHeight(e){var a=document.getElementById(e),n=document.frames?document.frames[e].document:a.contentDocument;null!=a&&null!=n&&(a.height=n.body.scrollHeight)}function showResponse(e,a){if("success"==a){var n=e.data;1==e.success?n.curl?layermsg_s(e.info,n.curl):1==n.isreload?layermsg_success_reload(e.info):layermsg_success(e.info):1==n.isreload?layermsg_e(e.info):layermsg_error(e.info)}}function htmlspecialchars_decode(e){return e=e.replace(/&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&quot;/g,"'"),e=e.replace(/&#039;/g,"'")}function open_box_image(e){layer.open({type:1,title:!1,closeBtn:0,skin:"layui-layer-nobg",shadeClose:!0,content:'<img src="'+e+'" width="320px">'})}function open_iframe_box(e,a,n,o){layer.open({type:2,shade:[.8,"#333"],area:[n,o],title:"信息窗口",maxmin:!0,content:e,cancel:function(e){1==a?layer.close(e):location.reload()}})}function cache_storageSave(e,a,n){1==n?localStorage.setItem(e,JSON.stringify(a)):localStorage.setItem(e,a)}function cache_storageLoad(e,a){return!!localStorage.getItem(e)&&(1==a?JSON.parse(localStorage.getItem(e)):localStorage.getItem(e))}